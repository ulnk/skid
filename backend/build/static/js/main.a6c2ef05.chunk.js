(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(39),s=n.n(r),o=n(10),i=n(5),l=(n(71),n(4)),u=n(9),d=n(6),j=n(60),b=n(1),O=a.a.createContext(),m=function(){return Object(c.useContext)(O)},h=function(e){var t=e.children,n=Object(c.useState)(),a=Object(d.a)(n,2),r=a[0],s=a[1],o=Object(i.c)((function(e){return e.user}));return Object(c.useEffect)((function(){var e=Object(j.a)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"localhost:5001",{auth:{token:o.token||null}});return s(e),function(){return e.close()}}),[o]),Object(b.jsx)(O.Provider,{value:r,children:t})},p=(n(42),n(78),n(36),n(27)),v=(n(79),function(){return Object(b.jsxs)("div",{className:"home-navbar",children:[Object(b.jsxs)("div",{className:"left-items",children:[Object(b.jsxs)("h1",{className:"left-title",children:[Object(b.jsx)("span",{className:"title-color-change",children:"skid"})," ",Object(b.jsx)("span",{className:"smol",children:"v1.3.3"})]}),Object(b.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"Features"}),Object(b.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"GitHub"}),Object(b.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"About"})]}),Object(b.jsx)("div",{className:"right-items",children:Object(b.jsx)(o.b,{to:"/login",children:Object(b.jsx)("button",{className:"login-button",children:"Login"})})})]})}),f=function(){var e=["Blasting NBA Youngboy on OBlock, been in the game since '02.","P2P Encryption.","14.2 Million Bots Connected.","Pushin' P.","Central Cee > OBlock.","OBlock smoking on Tooka.","Built using BQN.","You wouldn't steal a car.","Gunna & Future - pushin P (feat. Young Thug) [Official Video]","I can rhyme Orange and Banana. Bornana.","Miria Botnet < Brixton Botnet.","NOTDS Multitool.","Killer Whales at SeaWorld\u2122\ufe0f","Osaka > Brush & Cyan > Horion.","skid  oxygen when?","Jesus died for chocolate eggs.","Visual Basic Botnet.","decrypt0r.cs","Cookie Clicker?","When it rains, it pours.","Mike Amiri, Mike Amiri.","Trap House Mob."],t=[],n=function n(){var c=Math.floor(Math.random()*e.length),a=e[c];return t.includes(e[c])?n():(t.push(e[c]),a)},a=Object(c.useState)([n(),n()]),r=Object(d.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(0),l=Object(d.a)(i,2),u=l[0],j=l[1],O=function(e){j((function(e){return e+1}))};return Object(c.useEffect)((function(){return document.addEventListener("click",O),function(){return document.removeEventListener("click",O)}}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"home-body",children:[Object(b.jsx)(v,{}),Object(b.jsxs)("div",{className:"home-header",children:[Object(b.jsx)("h1",{className:"home-header-title",children:s[0]}),Object(b.jsx)("span",{className:"home-header-desc",children:s[1]}),Object(b.jsxs)("div",{className:"home-buttons-container",children:[Object(b.jsx)("span",{onClick:function(){window.location="https://github.com/ulnk/skid"},children:Object(b.jsxs)("button",{className:"home-github-main",children:[Object(b.jsx)(p.c,{className:"github-icon"}),"Check out our GitHub!"]})}),Object(b.jsx)("span",{onClick:function(){window.location="/skid/@me"},children:Object(b.jsx)("button",{className:"home-login-main",children:"Open Skid in your browser"})}),u>200&&Object(b.jsx)("span",{onClick:function(){window.location="https://cdn.skid.rocks/WordleGame.exe"},children:Object(b.jsx)("button",{onClick:function(){o([n(),n()]),t=[]},className:"home-red-main",children:"Download Wordle"})})]})]})]}),Object(b.jsx)("div",{className:"home-bottom",children:u<200&&Object(b.jsx)("button",{onClick:function(){return j(200)},className:"home-regen-bottom"})})]})},x=n(3),S=n.n(x),N=n(8),E=n(7),y=n.n(E),g=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",_=function(e,t){return e&&t?y.a.post(g+"/api/v1/user/login",{username:e,password:t}):null},k=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",C=function(e,t){return e&&t?y.a.post(k+"/api/v1/user/register",{username:e,password:t}):null},T=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",R=function(e){return e?y.a.post(T+"/api/v1/user/image",{imageLink:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},w=function(e){var t=Object(c.useState)(!0),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),l=Object(u.f)(),j=Object(c.useState)(""),O=Object(d.a)(j,2),m=O[0],h=O[1],p=Object(c.useState)(""),v=Object(d.a)(p,2),f=v[0],x=v[1],E=Object(i.b)();return Object(c.useEffect)((function(){e.show&&r(!1)}),[e]),Object(c.useEffect)((function(){s._id&&l("/skid/@me")}),[s,l]),Object(b.jsx)("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),E(function(e,t){return function(){var n=Object(N.a)(S.a.mark((function n(c){var a,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_(e,t);case 3:a=n.sent,r=a.data,c({type:"LOGIN",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(m,f))},children:Object(b.jsxs)("div",{className:"modal-container background-primary ".concat(a?"":"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Welcome Back!"}),Object(b.jsx)("small",{className:"modal-header-desc",children:"We're so glad to see you again!"})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:m,onChange:function(e){return h(e.target.value)},placeholder:""})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(b.jsx)("input",{type:"password",className:"modal-form-input",value:f,onChange:function(e){return x(e.target.value)},placeholder:""}),Object(b.jsx)("span",{className:"login-register",children:Object(b.jsx)(o.b,{to:"/recover",className:"register-button",children:"Forgot your password?"})})]})]}),Object(b.jsx)("button",{type:"submit",className:"submit-button-long",children:"Login"}),Object(b.jsxs)("span",{className:"login-register-below",children:["Need an account? ",Object(b.jsx)(o.b,{to:"/register",className:"register-button",children:"Register"})]})]})})},I=function(e){return Object(b.jsx)("div",{className:"body",children:Object(b.jsx)(w,Object(l.a)({},e))})},D=function(e){var t=Object(c.useState)(!0),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),l=Object(u.f)(),j=Object(c.useState)(""),O=Object(d.a)(j,2),m=O[0],h=O[1],p=Object(c.useState)(""),v=Object(d.a)(p,2),f=v[0],x=v[1],E=Object(c.useState)(""),y=Object(d.a)(E,2),g=y[0],_=y[1],k=Object(i.b)(),T=function(){return m.length<1||f.length<1||g.length<1?D("Invalid form."):m.includes(" ")||m.includes("#")||m.includes('"')||m.includes("'")||m.includes("&")||m.includes("@")||m.includes("~")||m.includes("/")||m.includes(",")||m.includes(">")?D("Username must not contain special characters including: # ' \" & @ ~ / > < "):f.includes(" ")?D("Password cannot include spaces."):m.length<5?D("Username must be larger than 4 characters."):m.length>15?D("Username must be less than 15 characters."):f!==g?D("Passwords do not match."):void k(function(e,t){return function(){var n=Object(N.a)(S.a.mark((function n(c){var a,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C(e,t);case 3:a=n.sent,r=a.data,c({type:"REGISTER",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(m,f))};Object(c.useEffect)((function(){e.show&&r(!1)}),[e]),Object(c.useEffect)((function(){s._id&&l("/skid/@me")}),[s,l]);var R=Object(c.useState)(""),w=Object(d.a)(R,2),I=w[0],D=w[1];return Object(b.jsx)("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),T()},children:Object(b.jsxs)("div",{className:"modal-container background-primary ".concat(a?"":"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Create an account"}),Object(b.jsx)("small",{className:"modal-err-desc",children:I})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:m,onChange:function(e){return h(e.target.value)},placeholder:""})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(b.jsx)("input",{type:"password",className:"modal-form-input",value:f,onChange:function(e){return x(e.target.value)},placeholder:""})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"CONFIRM PASSWORD"}),Object(b.jsx)("input",{type:"password",className:"modal-form-input",value:g,onChange:function(e){return _(e.target.value)},placeholder:""})]})]}),Object(b.jsx)("button",{type:"submit",className:"submit-button-long",children:"Register"}),Object(b.jsxs)("span",{className:"login-register-below",children:["Already have an account? ",Object(b.jsx)(o.b,{to:"/login",className:"register-button",children:"Login"})]})]})})},A=function(e){return Object(b.jsx)("div",{className:"body",children:Object(b.jsx)(D,Object(l.a)({},e))})},P=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",L=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",H=function(e){return e?y.a.get(L+"/api/v1/server/getServer?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},W=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",K=function(e){return e?y.a.post(W+"/api/v1/server/createServer",{serverName:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},F=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",U=function(e){return e?y.a.post(F+"/api/v1/server/deleteServer",{serverId:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},V=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",G=function(e){return e?y.a.post(V+"/api/v1/server/leaveServer",{serverId:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},B=function(){return function(){var e=Object(N.a)(S.a.mark((function e(t){var n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(P+"/api/v1/server/getAllServers",{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:n=e.sent,c=n.data,t({type:"GET_ALL_SERVERS",payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H(e);case 3:c=t.sent,a=c.data,n({type:"GET_SERVER",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:c=t.sent,a=c.data,n({type:"CREATE_SERVER",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Y=(n(99),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001"),z=function(e){return e?y.a.get(Y+"/api/v1/channel/getAllChannels?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},Q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",q=function(e){return e?y.a.get(Q+"/api/v1/channel/getChannel?channelId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},X=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",Z=function(e,t,n){return e&&t&&n?y.a.post(X+"/api/v1/channel/createChannel",{serverId:e,categoryId:t,channelName:n},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},$=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD,function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),o=Object(i.b)(),l=function(){var t=Object(N.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),o(J(a)),r(""),e.close(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=Object(c.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-server").click()}),[e]);return Object(c.useEffect)((function(){return document.addEventListener("keydown",u,!1),function(){return document.removeEventListener("keydown",u,!1)}}),[u]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:l,children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header-app",children:[Object(b.jsx)("span",{className:"modal-header-title-app",children:"Create server"}),Object(b.jsx)("small",{className:"modal-header-desc-app",children:"Give your new server a personality with a name. You can always change it later."})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"SERVER NAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:a,onChange:function(e){return r(e.target.value)},placeholder:"".concat(s.username,"'s server")})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.close(!1),r("")},children:"Cancel"}),Object(b.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.join(!0),e.close(!1),r("")},children:"Join a Server"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-server",className:"submit-button",children:"Create server"})]})]})})}),ee=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",te=function(e){return e?y.a.get(ee+"/api/v1/invite/getInviteFromServer?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},ne=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",ce=function(e){return e?y.a.get(ne+"/api/v1/invite/getServerFromInvite?inviteCode=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},ae=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",re=function(e,t){return e?y.a.post(ae+"/api/v1/invite/createInvite",{serverId:e,inviteCode:t},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},se=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",oe=function(e){return e?y.a.post(se+"/api/v1/invite/joinInvite",{inviteCode:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},ie=function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe(e);case 3:c=t.sent,a=c.data,n({type:"JOIN_INVITE",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},le=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(i.b)(),O=function(e){if(""===(e=(e=(e=e.split(":").at(-1).split("//").at(-1).split("skid.rocks/invite").at(-1).split("skid.today/invite").at(-1)).split("/")[1]||e.split("/").at(-1)).replace(/\s+/g,"")))return u("Invite is invalid or expired.");u(""),r(e)},m=Object(c.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-join-channel").click()}),[e]);return Object(c.useEffect)((function(){return document.addEventListener("keydown",m,!1),function(){return document.removeEventListener("keydown",m,!1)}}),[m]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),O(a),j(ie(a)),e.close(!1)},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header-app",children:[Object(b.jsx)("span",{className:"modal-header-title-app",children:"Join server"}),Object(b.jsx)("small",{className:"modal-header-desc-app",children:"Enter an invite below to join an existing server."})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsxs)("span",{className:"modal-form-input-header ".concat(""!==l&&"error-invite"),children:["Invite Link ",""!==l&&"- ".concat(l)]}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:a,onChange:function(e){return r(e.target.value)},placeholder:"skid.today/invite/aO9yuf"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.close(!1),r("")},children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-join-channel",className:"submit-button",children:"Join server"})]})]})})},ue=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(d.a)(r,2),l=s[0],j=s[1],O=Object(c.useState)(!1),h=Object(d.a)(O,2),p=h[0],v=h[1],f=Object(i.c)((function(e){return e.channel.allServerChannels})),x=Object(i.c)((function(e){return e.server.allServers})),E=Object(i.c)((function(e){return e.channel.redirectToChannel})),y=Object(u.g)(),g=y.serverId,_=y.channelId,k=Object(i.b)(),C=Object(u.f)(),T=m();return Object(c.useEffect)((function(){T&&T.on("deleteServer",(function(e){k(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"HIDE_SERVER",payload:e})}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(g)),g===e&&C("/skid/@me")}))}),[g,T,k,C]),Object(c.useEffect)((function(){a(x)}),[x]),Object(c.useEffect)((function(){k(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,z(e);case 5:c=t.sent,a=c.data,n({type:"GET_ALL_CHANNELS",payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(g))}),[g,k]),Object(c.useEffect)((function(){"redirect"!==_&&"null"!==_&&k(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,q(e);case 5:c=t.sent,a=c.data,n({type:"GET_CHANNEL",payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(_))}),[_,k]),Object(c.useEffect)((function(){E&&(g&&(f.filter((function(e){return e.server===g&&e._id===_}))[0]||C("/skid/".concat(g,"/").concat(E))))}),[g,_,E,f,C]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)($,{show:l,close:j,join:v}),Object(b.jsx)(le,{show:p,close:v}),Object(b.jsxs)("div",{className:"navbar background-tertiary",children:[Object(b.jsxs)(o.b,{to:"/skid/@me",children:[Object(b.jsx)("div",{className:"selected-noti ".concat(g?null:"active")}),Object(b.jsx)("div",{className:"navbar-server hover-skid background-primary ".concat(g?null:"home-selected"),children:Object(b.jsx)("span",{className:"tool",children:"Home"})})]}),n[0]&&Object(b.jsx)("div",{className:"divider background-primary"}),n.map((function(e,t){return e?Object(b.jsxs)(o.b,{to:"/skid/".concat(e._id,"/redirect"),children:[Object(b.jsx)("div",{className:"selected-noti ".concat(e._id===g?"active":null)}),Object(b.jsx)("div",{className:"navbar-server hover-server background-primary ".concat(e._id===g?"server-selected":null),onClick:function(){k(M(e._id))},children:Object(b.jsx)("span",{className:"tool",children:e.name})})]},t):null})),Object(b.jsx)("div",{className:"divider background-primary"}),Object(b.jsx)("div",{className:"navbar-server hover-server background-primary",onClick:function(){return j(!0)},children:Object(b.jsx)("span",{className:"tool",children:"Add a server"})})]})]})},de=(n(100),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001"),je=function(e){return e?y.a.get(de+"/api/v1/category/getAllCategories?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},be=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001"),Oe=function(e,t){return e&&t?y.a.post(be+"/api/v1/category/createCategory",{serverId:e,categoryName:t},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},me=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD,function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"REMINDER",payload:e||JSON.parse(localStorage.getItem("reminder"))})}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),he=(n(101),function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(i.b)(),o=Object(u.g)().serverId,l=Object(c.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-category").click()}),[e]);return Object(c.useEffect)((function(){return document.addEventListener("keydown",l,!1),function(){return document.removeEventListener("keydown",l,!1)}}),[l]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),s(function(e,t){return function(){var n=Object(N.a)(S.a.mark((function n(c){var a,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Oe(e,t);case 3:a=n.sent,r=a.data,c({type:"CREATE_CATEGORY",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(o,a)),r(""),e.close(!1)},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsx)("div",{className:"modal-form-header",children:Object(b.jsx)("span",{className:"modal-header-title",children:"Create category"})}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"CATEGORY NAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:a,onChange:function(e){return r(e.target.value)},placeholder:"New category"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",onClick:function(){return e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-category",className:"submit-button",children:"Create category"})]})]})})}),pe=n(56),ve=(n(102),function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(i.b)(),o=Object(u.g)().serverId,l=Object(c.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-channel").click()}),[e]);return Object(c.useEffect)((function(){return document.addEventListener("keydown",l,!1),function(){return document.removeEventListener("keydown",l,!1)}}),[l]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),s(function(e,t,n){return function(){var c=Object(N.a)(S.a.mark((function c(a){var r,s;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Z(e,t,n);case 3:r=c.sent,s=r.data,a({type:"CREATE_CHANNEL",payload:s}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()}(o,e.categoryId,a)),r(""),e.setCategoryId(""),e.close(!1)},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Create text channel"}),Object(b.jsxs)("small",{className:"modal-header-desc",children:["in ",e.categoryId]})]}),Object(b.jsxs)("div",{className:"modal-select-container",children:[Object(b.jsx)("span",{className:"modal-select-header",children:"CHANNEL TYPE"}),Object(b.jsxs)("div",{className:"modal-type-container",children:[Object(b.jsxs)("div",{className:"modal-select-type modal-selected-type",children:[Object(b.jsx)("div",{className:"select-check-wrapper",children:Object(b.jsx)("div",{className:"select-check"})}),Object(b.jsx)(p.d,{className:"select-type-icon"}),Object(b.jsxs)("div",{className:"select-type-info",children:[Object(b.jsx)("span",{className:"select-type-name",children:"Text Channel"}),Object(b.jsx)("small",{className:"select-type-desc",children:"Post images, GIFs, opinions and puns"})]})]}),Object(b.jsxs)("div",{className:"modal-select-type modal-select-hover",children:[Object(b.jsx)("div",{className:"unselect-check-wrapper",children:Object(b.jsx)("div",{className:"unselect-check"})}),Object(b.jsx)(pe.a,{className:"select-type-icon"}),Object(b.jsxs)("div",{className:"select-type-info",children:[Object(b.jsx)("span",{className:"select-type-name",children:"Voice Channel"}),Object(b.jsx)("small",{className:"select-type-desc",children:"Hang out with voice, video and screen sharing"})]})]})]})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"CHANNEL NAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:a,onChange:function(e){r(e.target.value)},placeholder:"new-channel"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",onClick:function(){e.setCategoryId(""),e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-channel",className:"submit-button",children:"Create channel"})]})]})})}),fe=(n(103),function(e){var t,n=Object(u.g)().serverId,a=Object(c.useState)(n.slice(-6,-1)),r=Object(d.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(!1),j=Object(d.a)(l,2),O=j[0],m=j[1],h=Object(c.useState)(""),p=Object(d.a)(h,2),v=p[0],f=p[1],x=Object(c.useState)(!1),E=Object(d.a)(x,2),y=E[0],g=E[1],_=Object(i.b)(),k=Object(i.c)((function(e){return e.invite.allInvites}));Object(c.useEffect)((function(){var e=k.filter((function(e){return e.server===n}));m(void 0!==e[0]),e[0]&&f(e[0].invite)}),[n,k]);var C=Object(c.useCallback)((function(t){"Escape"===t.key&&e.close(!1)}),[e]);return Object(c.useEffect)((function(){return document.addEventListener("keydown",C,!1),function(){return document.removeEventListener("keydown",C,!1)}}),[C]),O?Object(b.jsx)("div",{className:"modal-underbody ".concat(e.show&&"show"),children:Object(b.jsx)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsx)("div",{className:"modal-form-header-invite",children:Object(b.jsx)("span",{className:"modal-header-title-invite",children:"Invite friends to the server!"})}),Object(b.jsxs)("div",{className:"modal-form-input-container-invite",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"SERVER INVITE"}),Object(b.jsxs)("div",{className:"modal-form-input-readonly-container",children:[Object(b.jsx)("input",{type:"text",className:"modal-form-input-readonly",value:v,readOnly:!0}),Object(b.jsx)("button",{type:"button",className:"modal-form-button-readonly-copy ".concat(y&&"green"),onClick:function(){g(!0),navigator.clipboard.writeText("https://skid.today/invite/".concat(v)),clearTimeout(t),t=setTimeout((function(){g(!1)}),1e3)},children:y?"Copied":"Copy"})]})]})]})})}):Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(e){e.preventDefault(),_(function(e,t){return function(){var n=Object(N.a)(S.a.mark((function n(c){var a,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,re(e,t);case 3:a=n.sent,r=a.data,c({type:"CREATE_INVITE",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n,s))},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Create Server Invite"}),Object(b.jsx)("small",{className:"modal-header-desc",children:"Give your server personality with a custom invite."})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"SERVER INVITE"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:s,onChange:function(e){return o(e.target.value)},placeholder:"fun-server"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",onClick:function(){return e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-category",className:"submit-button",children:"Create Server Invite"})]})]})})}),xe=n(28),Se=n(57),Ne=(n(104),function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),o=Object(i.b)();Object(c.useEffect)((function(){r(s.image)}),[s]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"settings ".concat(e.class),children:[Object(b.jsx)("div",{className:"close",onClick:function(){return e.close(!1)},children:Object(b.jsx)(xe.a,{size:"18"})}),Object(b.jsx)("section",{className:"tabs",children:Object(b.jsxs)("ul",{className:"tab-buttons-container",children:[Object(b.jsxs)("div",{className:"tab-section",children:[Object(b.jsx)("span",{className:"font-display section-title",children:"USER SETTINGS"}),Object(b.jsxs)("div",{className:"section-items",children:[Object(b.jsx)("button",{className:"section-button text-channel-colour selected",children:"My Account"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"User Profile"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"Privacy & Safety"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"Authorised Apps"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"Connections"})]})]}),Object(b.jsx)("div",{className:"divider-options"}),Object(b.jsx)("form",{className:"tab-section",onSubmit:function(){o(function(){var e=Object(N.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"LOGOUT",payload:null})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(b.jsx)("button",{type:"submit",className:"section-button logout text-channel-colour",children:"Logout"})})]})}),Object(b.jsxs)("section",{className:"options",children:[Object(b.jsx)("div",{className:"header-title-option",children:"My Account"}),Object(b.jsxs)("form",{className:"option",onSubmit:function(e){var t;e.preventDefault(),o((t=a,function(){var e=Object(N.a)(S.a.mark((function e(n){var c,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:c=e.sent,a=c.data,n({type:"IMAGE",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("span",{className:"option-title",children:"Profile Picture URL"}),Object(b.jsx)("input",{type:"url",className:"modal-form-input-o",pattern:"https://.*",value:a||"https://cdn.skid.rocks/img/1f0bfc0865d324c2587920a7d80c609b.png",onChange:function(e){return r(e.target.value)},placeholder:""}),Object(b.jsx)("button",{type:"submit",className:"submit-button-save",children:"Save"})]})]})]})})}),Ee=function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(i.c)((function(e){return e.user}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Ne,{close:r,class:"".concat(a&&"active")}),Object(b.jsxs)("section",{className:"user-info background-secondary-alt ".concat(e.className),children:[Object(b.jsxs)("div",{className:"profile-container",children:[Object(b.jsx)("img",{className:"profile-image",src:j.image||"https://cdn.skid.rocks/img/1f0bfc0865d324c2587920a7d80c609b.png",alt:""}),Object(b.jsxs)("div",{className:"profile-name-container",children:[Object(b.jsx)("span",{className:"profile-name",children:j.username}),Object(b.jsx)("small",{className:"profile-tag",children:j._id})]})]}),Object(b.jsxs)("div",{className:"buttons-container",children:[Object(b.jsxs)("div",{className:"button-wrapper",onClick:function(){return u(!l)},children:[Object(b.jsx)("span",{className:"button-tool",children:l?"Unmute":"Mute"}),l?Object(b.jsx)(xe.c,{className:"button"}):Object(b.jsx)(xe.b,{className:"button"})]}),Object(b.jsxs)("div",{className:"button-wrapper",onClick:function(){return r(!0)},children:[Object(b.jsx)("span",{className:"button-tool",children:"Settings"}),Object(b.jsx)(Se.a,{className:"button"})]})]})]})]})},ye=function(e){var t=Object(c.useState)(!0),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(u.g)(),l=s.serverId,j=s.channelId,O=Object(i.c)((function(e){return e.channel.allServerChannels}));return Object(b.jsxs)("div",{className:"category",children:[Object(b.jsxs)("div",{className:"category-header text-channel-colour-group",children:[a?Object(b.jsx)(p.a,{className:"category-chevron colour-group-item",onClick:function(){return r(!a)}}):Object(b.jsx)(p.b,{className:"category-chevron colour-group-item",onClick:function(){return r(!a)}}),Object(b.jsx)("span",{className:"category-header-text font-display colour-group-item",onClick:function(){return r(!a)},children:e.category.name.toUpperCase()}),Object(b.jsx)(p.e,{className:"category-add colour-group-item",onClick:function(){e.setShowNewChannelModal(!0),e.setCategoryId(e.category._id)}})]}),Object(b.jsx)("div",{className:"children",children:O.filter((function(t){return t.category===e.category._id})).map((function(e,t){return a&&Object(b.jsx)(o.b,{to:"/skid/".concat(l,"/").concat(e._id),children:Object(b.jsxs)("div",{className:"channel text-channel-colour ".concat(j===e._id?"selected":""),children:[Object(b.jsx)(p.d,{className:"channel-hashtag text-channel-colour"}),Object(b.jsx)("span",{className:"channel-title font-primary",children:e.name})]})},t)}))})]})},ge=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(d.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(!1),O=Object(d.a)(j,2),h=O[0],v=O[1],f=Object(c.useState)(""),x=Object(d.a)(f,2),E=x[0],y=x[1],g=Object(c.useState)(!1),_=Object(d.a)(g,2),k=_[0],C=_[1],T=Object(c.useState)([]),R=Object(d.a)(T,2),w=R[0],I=R[1],D=Object(c.useRef)(),A=Object(i.c)((function(e){return e.other.reminder})),P=Object(i.c)((function(e){return e.server.currentServer})),L=Object(i.c)((function(e){return e.category.allServerCategories})),H=Object(i.c)((function(e){return e.user})),W=Object(u.g)(),K=W.serverId,F=W.channelId,V=Object(u.f)(),B=Object(i.b)(),J=m();Object(c.useEffect)((function(){B(me()),B(M(K)),B(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je(e);case 3:c=t.sent,a=c.data,n({type:"GET_ALL_CATEGORIES",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(K)),B(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te(e);case 3:c=t.sent,a=c.data,n({type:"GET_INVITE",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(K))}),[B,K,F]),Object(c.useEffect)((function(){I(L)}),[L]);var Y=Object(c.useCallback)((function(e){if(n)return D.current&&!D.current.contains(e.target)?a(!1):void 0}),[n]);Object(c.useEffect)((function(){return document.addEventListener("click",Y),function(){return document.removeEventListener("click",Y)}}),[n,Y]);var z=function(){J.emit("deleteServer",K),B(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e);case 3:n({type:"DELETE_SERVER",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(K)),V("/skid/@me")},Q=function(){B(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e);case 3:c=t.sent,a=c.data,n({type:"LEAVE_SERVER",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(K)),V("/skid/@me")};return P._id?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(fe,{show:k,close:C}),Object(b.jsx)(he,{show:o,close:l}),Object(b.jsx)(ve,{categoryId:E,setCategoryId:y,show:h,close:v}),Object(b.jsx)(Ee,{}),Object(b.jsx)("nav",{className:"channel-bar background-secondary noselect ".concat(A&&"rHeight"),children:Object(b.jsxs)("div",{className:"channel-bar-items",children:[Object(b.jsxs)("section",{className:"server-name",onClick:function(){return a(!n)},children:[Object(b.jsx)("h2",{className:"server-name-header font-primary",children:P.name}),Object(b.jsx)(p.a,{className:"server-name-chevron"}),Object(b.jsx)("ul",{ref:D,className:"context-menu ".concat(n&&"on"),children:"625c7d70df1a464bb9d6d059"!==K?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"context-menu-item blue text-blue",onClick:function(){return C(!0)},children:Object(b.jsx)("button",{children:"Invite People"})}),Object(b.jsx)("li",{className:"context-menu-item blue",onClick:function(){return l(!0)},children:Object(b.jsx)("button",{children:"Create Category"})}),H._id!==P.owner&&Object(b.jsx)("li",{className:"context-menu-item red",onClick:function(){return Q()},children:Object(b.jsx)("button",{children:"Leave Server"})}),H._id===P.owner&&Object(b.jsx)("li",{className:"context-menu-item red",onClick:function(){return z()},children:Object(b.jsx)("button",{children:"Delete Server"})})]}):null})]}),Object(b.jsx)("div",{className:"channels",children:w.map((function(e,t){return Object(b.jsx)(ye,{category:e,setCategoryId:y,setShowNewChannelModal:v},t)}))})]})})]}):Object(b.jsx)("nav",{className:"channel-bar background-secondary noselect ".concat(A&&"rHeight"),children:Object(b.jsxs)("div",{className:"channel-bar-items",children:[Object(b.jsx)("section",{className:"server-name"}),Object(b.jsx)("div",{className:"channels"})]})})},_e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001",ke=function(e,t){return e&&t?y.a.get(_e+"/api/v1/message/getAllMessages?serverId=".concat(e,"&channelId=").concat(t),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},Ce=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD?"https://skid.today":"http://localhost:5001"),Te=function(e,t,n,c){return e&&t&&n&&c?y.a.post(Ce+"/api/v1/message/createMessage",{content:e,serverId:t,categoryId:n,channelId:c},{headers:{"x-auth-token":localStorage.getItem("token")}}):"awd"},Re=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PROD,function(e,t,n,c){return function(){var a=Object(N.a)(S.a.mark((function a(r){var s,o;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Te(e,t,n,c);case 3:s=a.sent,o=s.data,r({type:"CREATE_MESSAGE",payload:o}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}),we=(n(105),function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(d.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)([]),O=Object(d.a)(j,2),h=O[0],p=O[1],v=Object(i.c)((function(e){return e.user})),f=Object(i.c)((function(e){return e.channel.currentChannel})),x=Object(i.c)((function(e){return e.message.allChannelMessages})),E=Object(i.c)((function(e){return e.other.reminder})),y=Object(i.c)((function(e){return e.message.currentMessage})),g=Object(u.g)(),_=g.serverId,k=g.channelId,C=m(),T=Object(i.b)();Object(c.useEffect)((function(){"redirect"!==k&&T(function(e,t){return function(){var n=Object(N.a)(S.a.mark((function n(c){var a,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ke(e,t);case 3:a=n.sent,r=a.data,c({type:"GET_ALL_MESSAGES",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(_,k))}),[T,_,k]),Object(c.useEffect)((function(){p(x)}),[x,p]),Object(c.useEffect)((function(){(C||n.owner)&&C.emit("message",n)}),[C,n]),Object(c.useEffect)((function(){a(y)}),[y]),Object(c.useEffect)((function(){C&&(C.off("message"),C.on("message",(function(e){e.owner!==v._id&&(e.server===_&&e.channel===k?T(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"ADD_MESSAGE_TO_ALL",payload:e})}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)):T(function(e,t){return function(){var n=Object(N.a)(S.a.mark((function n(c){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{c({type:"NOTIFY_SERVER_CHANNEL",payload:{serverId:e,channelId:t}})}catch(a){console.log(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e.messageServerId,e.messageChannel)))})))}),[C,v,_,k,T]);var R=function(){var e=Object(N.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),T(Re(o,_,f.category,k)),l("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f._id===k?Object(b.jsxs)("div",{className:"user-content background-primary ".concat(E&&"reminder-user-content"),children:[Object(b.jsx)("div",{className:"channel-name background-primary",children:Object(b.jsx)("span",{className:"channel-info-name",children:f.name})}),Object(b.jsxs)("div",{className:"chat",children:[Object(b.jsx)("div",{className:"chat-bar-container",children:Object(b.jsx)("form",{className:"chat-bar background-primary-alt",onSubmit:R,children:Object(b.jsx)("input",{type:"text",placeholder:"Message #".concat(f.name),value:o,onChange:function(e){return l(e.target.value)},className:"chat-bar-area"})})}),Object(b.jsxs)("div",{className:"chat-container",children:[h.map((function(e,t){return e.small?Object(b.jsx)("div",{className:"chat-item-small",children:Object(b.jsx)("div",{className:"chat-item-content",children:Object(b.jsx)("span",{className:"chat-item-text",children:e.content})})},e._id):Object(b.jsxs)("div",{className:"chat-item",children:[Object(b.jsx)("img",{className:"chat-item-picture",src:e.image,alt:""}),Object(b.jsxs)("div",{className:"chat-item-content",children:[Object(b.jsxs)("div",{className:"chat-user-info",children:[Object(b.jsx)("span",{className:"chat-item-name",children:e.ownerName}),Object(b.jsx)("span",{className:"chat-item-date",children:new Date(e.creation).toLocaleDateString()})]}),Object(b.jsx)("span",{className:"chat-item-text",children:e.content})]})]},t)})),Object(b.jsxs)("div",{className:"chat-container-header",children:[Object(b.jsxs)("span",{className:"chat-contiainer-header-text-large",children:["Welcome to #",f.name,"!"]}),Object(b.jsxs)("small",{className:"chat-contiainer-header-text-small",children:["This is the start of the #",f.name," channel."]})]})]})]}),Object(b.jsxs)("div",{className:"member-list background-secondary",children:[Object(b.jsxs)("div",{className:"member-list-category",children:[Object(b.jsx)("span",{className:"member-list-name text-channel-colour",children:"ONLINE"}),Object(b.jsx)("div",{className:"members",children:Object(b.jsxs)("div",{className:"member",children:[Object(b.jsx)("div",{className:"member-profile-image"}),Object(b.jsx)("span",{className:"member-name text-primary",children:"genericuser"})]})})]}),Object(b.jsxs)("div",{className:"member-list-category",children:[Object(b.jsx)("span",{className:"member-list-name text-channel-colour",children:"OFFLINE"}),Object(b.jsx)("div",{className:"members",children:Object(b.jsxs)("div",{className:"member",children:[Object(b.jsx)("div",{className:"member-profile-image"}),Object(b.jsx)("span",{className:"member-name text-muted",children:"Taylor Peters"})]})})]})]})]}):Object(b.jsxs)("div",{className:"user-content background-primary ".concat(E&&"reminder-user-content"),children:[Object(b.jsx)("div",{className:"channel-name background-primary"}),Object(b.jsx)("div",{className:"chat",children:Object(b.jsx)("div",{className:"chat-bar-container",children:Object(b.jsx)("form",{className:"chat-bar background-primary-alt",onSubmit:function(e){return e.preventDefault()}})})}),Object(b.jsx)("div",{className:"member-list background-secondary"})]})}),Ie=(n(106),function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("reminder"))),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(i.b)();return Object(c.useEffect)((function(){null===localStorage.getItem("reminder")&&localStorage.setItem("reminder",!0)}),[]),Object(b.jsx)(b.Fragment,{children:n&&Object(b.jsxs)("div",{className:"reminder",children:[Object(b.jsxs)("div",{className:"reminder-title",children:["Have you heard of notds? Check out their amazing mutitool!",Object(b.jsx)("a",{href:"https://github.com/jugoslovenska/notds",className:"reminder-button",children:"click here!"})]}),Object(b.jsx)(xe.a,{className:"reminder-close",onClick:function(){return a(!1),localStorage.setItem("reminder",JSON.stringify(!1)),void r(me(!1))}})]})})}),De=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.b)(),n=Object(u.f)();return Object(c.useEffect)((function(){e._id||n("/login"),t(B())}),[e,n,t]),Object(b.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(b.jsx)(ue,{}),Object(b.jsxs)("div",{className:"reminder-container",children:[Object(b.jsx)(Ie,{}),Object(b.jsxs)("div",{className:"flex h-full w-full transition-none user-context-navbar-container",children:[Object(b.jsx)(ge,{}),Object(b.jsx)(we,{})]})]})]})},Ae=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.b)(),n=Object(u.f)();return Object(c.useEffect)((function(){e._id||n("/login"),t(B())}),[e,n,t]),Object(b.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(b.jsx)(ue,{}),Object(b.jsx)(Ee,{className:"ml-[72px]"}),Object(b.jsxs)("div",{className:"reminder-container",children:[Object(b.jsx)(Ie,{}),Object(b.jsxs)("div",{className:"flex transition-none user-context-navbar-container",children:[Object(b.jsx)("nav",{className:"channel-bar background-secondary"}),Object(b.jsx)("div",{className:"user-content background-primary flex flex-grow"})]})]})]})},Pe=(n(107),function(){var e=Object(i.c)((function(e){return e.user})),t=Object(u.f)(),n=Object(i.b)(),a=Object(u.g)().inviteCode,r=Object(i.c)((function(e){return e.invite.serverFromInvite}));Object(c.useEffect)((function(){n(function(e){return function(){var t=Object(N.a)(S.a.mark((function t(n){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce(e);case 3:c=t.sent,a=c.data,n({type:"GET_SERVER_FROM_INVITE",payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(a))}),[n,a]);return r._id?Object(b.jsx)("div",{className:"invite-body",children:Object(b.jsxs)("div",{className:"modal-container-inv background-primary",children:[Object(b.jsx)("div",{className:"modal-form-inv",children:Object(b.jsxs)("div",{className:"modal-form-header-inv",children:[Object(b.jsx)("small",{className:"modal-header-desc-inv",children:"You have been invited to join"}),Object(b.jsxs)("span",{className:"modal-header-title-inv",children:[r.name,"!"]})]})}),Object(b.jsx)("button",{type:"submit",onClick:function(){if(!e._id)return t("/login");n(ie(a)),t("/skid/".concat(r._id,"/redirect"))},className:"submit-button-inv",children:"Accept Invite"})]})}):Object(b.jsx)("div",{className:"invite-body",children:Object(b.jsxs)("div",{className:"modal-container-inv2 show background-primary",children:[Object(b.jsx)("div",{className:"modal-form",children:Object(b.jsxs)("div",{className:"modal-form-header-inv2",children:[Object(b.jsx)("span",{className:"modal-header-title-inv2",children:"Invite Invalid"}),Object(b.jsx)("small",{className:"modal-header-desc-inv2",children:"This invite may be expired or you might not have permission to join."})]})}),Object(b.jsx)("button",{type:"submit",onClick:function(){if(!e._id)return t("/login");t("/skid/@me")},className:"submit-button-inv",children:"Continue to Site"})]})})}),Le=function(){var e=Object(u.f)();return Object(c.useEffect)((function(){e("/skid/@me")}),[e]),null},He=function(){var e=Object(i.c)((function(e){return e.user})),t=m();return Object(c.useEffect)((function(){t&&e.token&&t.emit("online",Object(l.a)({},e))}),[t,e]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",element:Object(b.jsx)(f,{})}),Object(b.jsx)(u.a,{path:"/login",element:Object(b.jsx)(I,{show:!0})}),Object(b.jsx)(u.a,{path:"/register",element:Object(b.jsx)(A,{show:!0})}),Object(b.jsx)(u.a,{path:"/invite/:inviteCode",element:Object(b.jsx)(Pe,{})}),Object(b.jsx)(u.a,{path:"/skid/:serverId/:channelId",element:Object(b.jsx)(De,{})}),Object(b.jsx)(u.a,{path:"/skid/@me",element:Object(b.jsx)(Ae,{})}),Object(b.jsx)(u.a,{path:"*",element:Object(b.jsx)(Le,{})})]})})},We=n(33),Ke=n(13),Fe=n(32),Ue=n(58),Ve=function(e){var t=e||JSON.parse(localStorage.getItem("token"));try{return Object(l.a)({token:t},Object(Ue.a)(t).data)}catch(n){return{token:JSON.stringify(null)}}},Ge=Object(We.b)({server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentServer:{},allServers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOIN_INVITE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentServer:t.payload,allServers:[].concat(Object(Ke.a)(e.allServers),[t.payload])}):e;case"GET_ALL_SERVERS":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServers:Object(Ke.a)(t.payload)}):e;case"CREATE_SERVER":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServers:[].concat(Object(Ke.a)(e.allServers),[t.payload])}):e;case"GET_SERVER":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentServer:t.payload}):e;case"DELETE_SERVER":case"LEAVE_SERVER":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServers:e.allServers.filter((function(e){return e._id!==t.payload}))}):e;default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentCategory:{},allServerCategories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CATEGORIES":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerCategories:t.payload}):e;case"GET_CATEGORY":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentCategory:t.payload}):e;case"CREATE_CATEGORY":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerCategories:[].concat(Object(Ke.a)(e.allServerCategories),[t.payload])}):e;case"DELETE_CATEGORY":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerCategories:Object(Ke.a)(t.payload)}):e;default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentChannel:{},redirectToChannel:null,allServerChannels:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CHANNELS":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerChannels:Object(Ke.a)(t.payload),redirectToChannel:t.payload[0]._id}):e;case"CREATE_CHANNEL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerChannels:[].concat(Object(Ke.a)(e.allServerChannels),[t.payload])}):e;case"GET_CHANNEL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentChannel:t.payload}):e;case"DELETE_CHANNEL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerChannels:Object(Ke.a)(t.payload)}):e;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentMessage:{},allChannelMessages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_MESSAGES":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allChannelMessages:Object(Ke.a)(t.payload)}):e;case"ADD_MESSAGE_TO_ALL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allChannelMessages:[t.payload].concat(Object(Ke.a)(e.allChannelMessages))}):e;case"GET_MESSAGE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentMessage:t.payload}):e;case"CREATE_MESSAGE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentMessage:t.payload,allChannelMessages:[t.payload].concat(Object(Ke.a)(e.allChannelMessages))}):e;case"DELETE_MESSAGE":return t.payload,e;default:return e}},invite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serverFromInvite:{},allInvites:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SERVER_FROM_INVITE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{serverFromInvite:t.payload}):Object(l.a)(Object(l.a)({},e),{},{serverFromInvite:{}});case"GET_INVITE":if(!t.payload)return e;var n,c=Object(Fe.a)(e.allInvites);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(a._id===t.payload._id)return e}}catch(r){c.e(r)}finally{c.f()}return Object(l.a)(Object(l.a)({},e),{},{allInvites:[t.payload].concat(Object(Ke.a)(e.allInvites))});case"CREATE_INVITE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allInvites:[t.payload].concat(Object(Ke.a)(e.allInvites))}):e;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.payload?(localStorage.setItem("token",JSON.stringify(t.payload.jwt)),Object(l.a)({},Ve(t.payload.jwt))):Object(l.a)({},Ve());case"LOGOUT":return localStorage.setItem("token",JSON.stringify(null)),Object(l.a)({},Ve());case"REGISTER":return t.payload?(localStorage.setItem("token",JSON.stringify(t.payload.jwt)),Object(l.a)({},Ve(t.payload.jwt))):Object(l.a)({},Ve());case"IMAGE":return t.payload?Object(l.a)({},Ve(t.payload.jwt)):e;default:return e}},notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notify:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY_SERVER_CHANNEL":default:return e}},other:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reminder:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMINDER":return Object(l.a)(Object(l.a)({},e),{},{reminder:t.payload});case"TEST":return console.log(t.payload),e;default:return e}}}),Be=n(59),Me=Object(We.d)(Ge,Object(We.c)(Object(We.a)(Be.a)));s.a.render(Object(b.jsx)(o.a,{children:Object(b.jsx)(i.a,{store:Me,children:Object(b.jsx)(h,{children:Object(b.jsx)(He,{})})})}),document.getElementById("root"))},36:function(e,t,n){},42:function(e,t,n){},71:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},99:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.a6c2ef05.chunk.js.map